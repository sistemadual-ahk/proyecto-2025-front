<div class="container">
  <div class="main">
    <app-page-title title="PIN" (back)="goBack()"></app-page-title>

    <!-- Modo preguntar editar -->
    <div class="card" *ngIf="mode === 'askEdit'">
      <div class="title">Ya tienes un PIN guardado</div>
      <div class="subtitle">¿Deseas editarlo?</div>
      <div class="actions">
        <button class="btn primary" (click)="startEdit()">Editar PIN</button>
        <button class="btn" (click)="goBack()">Volver</button>
      </div>
    </div>

    <!-- Modo crear/editar -->
    <div class="card" *ngIf="mode === 'create' || mode === 'edit'">
      <div class="title">{{ mode === 'create' ? 'Crear PIN' : 'Editar PIN' }}</div>
      <div class="subtitle">Ingresa un PIN de 4 a 6 dígitos y confírmalo</div>

      <div class="form">
        <input class="input" type="password" inputmode="numeric" pattern="\d*" maxlength="6" placeholder="PIN" [(ngModel)]="pin" />
        <input class="input" type="password" inputmode="numeric" pattern="\d*" maxlength="6" placeholder="Confirmar PIN" [(ngModel)]="confirmPin" />
        <div class="error" *ngIf="message && !message.includes('correctamente')">{{ message }}</div>
        <div class="success" *ngIf="message && message.includes('correctamente')">{{ message }}</div>
        <button class="btn primary" (click)="savePin()">Guardar</button>
      </div>
    </div>
  </div>
</div>


